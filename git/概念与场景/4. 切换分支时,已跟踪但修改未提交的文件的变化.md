在 Git 中，已跟踪但修改未提交的文件（即工作区中被修改的文件）在切换分支时会根据具体情况有不同的行为。这些文件已经被 Git 跟踪，但尚未提交到仓库。以下是详细的行为描述和处理方式：

### 1. **已跟踪但未提交文件的定义**

已跟踪但未提交的文件是指那些已经被 `git add` 添加到暂存区或仓库中的文件，但在当前工作区中被修改了，但尚未提交这些修改。

### 2. **切换分支时的行为**

#### **无冲突的情况**

如果目标分支中不存在与当前修改冲突的文件，Git 会将这些修改保留下来，并将它们应用到目标分支上。这意味着你的修改会跟随你切换到新的分支。

**示例**：
假设你在 `feature-branch` 分支中修改了 `file1.txt`，但尚未提交这些修改。现在你切换到 `main` 分支：

```bash
git checkout main
```

Git 会提示你有未提交的修改，并将这些修改应用到 `main` 分支上：

```
Switched to branch 'main'
Your branch is up to date with 'origin/main'.
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)
        modified:   file1.txt
```

此时，`file1.txt` 的修改被保留，并且现在这些修改在 `main` 分支的工作区中。

#### **有冲突的情况**

如果目标分支中存在与当前修改冲突的文件，Git 会提示冲突，并阻止你切换分支。你需要解决这些冲突后才能继续切换分支。

**示例**：
假设你在 `feature-branch` 分支中修改了 `file1.txt`，而 `main` 分支中也有对 `file1.txt` 的不同修改。现在你尝试切换到 `main` 分支：

```bash
git checkout main
```

Git 会提示冲突：

```
error: Your local changes to the following files would be overwritten by checkout:
        file1.txt
Please commit your changes or stash them before you switch branches.
Aborting
```

在这种情况下，Git 不允许你切换分支，直到你解决这些冲突。

### 3. **处理未提交的修改**

#### **提交修改**

如果你的修改已经完成，可以直接提交这些修改，然后切换分支：

```bash
git add file1.txt
git commit -m "Update file1.txt"
git checkout main
```

#### **暂存修改**

如果你的修改尚未完成，但需要切换分支，可以使用 `git stash` 命令将当前的修改暂存起来。暂存的修改可以稍后恢复。

```bash
git stash
git checkout main

# 在 main 分支上进行操作

# 返回原来的分支
git checkout feature-branch
git stash pop
```

- **`git stash`**：将当前工作区和暂存区的修改暂存起来，并清理工作区和暂存区。
- **`git stash pop`**：恢复最近一次暂存的修改，并从暂存区中移除这些修改。
- **`git stash apply`**：恢复最近一次暂存的修改，但保留这些修改在暂存区中。

#### **解决冲突**

如果目标分支中存在冲突，你需要手动解决这些冲突。解决冲突后，你可以继续切换分支。

```bash
# 解决冲突
# 编辑 file1.txt，手动解决冲突

# 添加解决冲突后的文件
git add file1.txt

# 继续切换分支
git checkout main
```

### 4. **总结**

在切换分支时，已跟踪但未提交的文件的行为取决于是否存在冲突：

- **无冲突**：Git 会将这些修改保留下来，并将它们应用到目标分支上。
- **有冲突**：Git 会提示冲突，并阻止你切换分支，直到你解决这些冲突。

你可以根据具体情况选择提交修改、暂存修改或解决冲突。通过合理管理这些文件，你可以确保代码的版本控制更加清晰和有序。
